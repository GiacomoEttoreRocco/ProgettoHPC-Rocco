#!/bin/bash

#PBS -N ring_job
#PBS -q dssc
#PBS -l mem=100mb 
#PBS -l nodes=1:ppn=24

#PBS -l walltime=00:60:00

module load openmpi-4.1.1+gnu-9.3.0

cd $PBS_O_WORKDIR

for i in {2..24}
do
	mpirun -np $i ring 1000 1000 >> result_ring.csv 
	mpirun -np $i mesh 1000 1000 >> result_mesh.csv
	mpirun -np $i torus_rep 1000 1000 >> result_torus_rep.csv
done 
exit